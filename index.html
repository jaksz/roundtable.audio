<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
    <title>Discourse.FM</title>
  <style>
        .card {
          position: relative;
          min-width: 300px;
          height: auto;
          overflow: hidden;
          border-radius: 15px;
          margin: 0 auto;
          padding: 20px 20px;
          transition: .5s;
          cursor: pointer;
          display: inline-block
        }
        .card:hover { 
          box-shadow: 0 10px 15px rgba(0,0,0,0.3);
        }
        a.nostyle:link {
            text-decoration: inherit;
            color: inherit;
            cursor: auto;
        }

        a.nostyle:visited {
            text-decoration: inherit;
            color: inherit;
            cursor: auto;
        }
      
      .navbar-fixed-left {
          width: auto;
          position: fixed;
          padding: 5px;
          height: 100%;
          display: block;
        }

        .navbar-fixed-left .navbar-nav > li {
          float: none;  /* Cancel default li float: left */
          width: auto;
        }
  </style>
      
      <script src="socket.io-client/dist/socket.io.js"></script>
      <script>
        $( document ).ready(function() {
            //var socket = io.connect("http://127.0.0.1:3000");
            var socket = io.connect("https://discourse.fm");
            //var socket = io.connect("/");
  
            // Add a connect listener
            socket.on('connect',function() {
               console.log('Client has connected to the server!');
            });
            
            //handle jid, lid param requests
            function getUrlParam(name) {
                name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
                var regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
                var results = regex.exec(window.location.search);
                return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
            }
            
            var auth_jid = getUrlParam('jid').trim();
            var auth_lid = getUrlParam('lid').trim();
            
            if(auth_jid != ''){
                //get JID_secret, LID, and LID_secret
                socket.emit('get_auth_creds_from_jid', auth_jid, function(err, data){
                   if(err != 'error'){
                       console.log(data);
                        var data_to_store = {
                            "JID": data['JID'],
                            "JID_secret": data['JID_secret'],
                            "LID": data['LID'],
                            "LID_secret": data['LID_secret']
                        }
                        localStorage.setItem(data['UDI'], JSON.stringify(data_to_store));
                        //window.location.href = window.location.href + 'live/' + data['UDI'];
                   }else{
                       console.log(err);
                   }
                });
            }
            
            if(auth_lid != ''){
                //get LID, and LID_secret
                socket.emit('get_auth_creds_from_lid', auth_lid, function(err, data){
                   if(err != 'error'){
                       console.log(data);
                       var data_to_store = {
                            "JID": null,
                            "JID_secret": null,
                            "LID": data['LID'],
                            "LID_secret": data['LID_secret']
                        }
                        localStorage.setItem(data['UDI'], JSON.stringify(data_to_store));
                        //window.location.href = window.location.href + 'live/' + data['UDI'];
                   }else{
                       console.log(err);
                   }
                });
            }
            
            var rtc = function(timestamp){
               var words = ['share your ideas.', 
                         'learn something new.', 
                         'debate a topic.',
                         'host an interview.',
                         'catch up with friends.',
                         'meet new people.',
                         'start a podcast.',
                         'find inspiration.',
                         'bridge the divide.',
                         'promote your brand.',
                         'reconnect with the world.',
                         'drive the conversation forward.'];
               var i = Math.floor(Math.random() * Math.floor(words.length));
               $('#textchanger').html(words[i]).fadeIn(1500, function(){
                    $('#textchanger').fadeOut(1500, function(){
                        window.requestAnimationFrame(rtc);  
                    })
               })
            }
            
             window.requestAnimationFrame(rtc);
            
            // handle adding existing discourses 
            $.fn.addDiscourseCard = function(title, tag_list, description, n_participants, n_listeners, public_join, public_listen, UDI){
                tags_to_show = ''
                $.each(tag_list, function(index, value){
                   tag = '<span class="badge badge-secondary mr-1">#' + value + '</span>';
                   tags_to_show += tag;
                });
                if(public_join){
                    var join_span = '<span style="color:#28a745;">Public Join <img src="icons/check2-green.svg" /></span>';
                }else{
                     var join_span = '<span style="color:#dc3545;">Private to Join <img src="icons/x-red.svg" /></span>';
                }
                if(public_listen){
                    var listen_span = '<span style="color:#28a745;">Public Listen <img src="icons/check2-green.svg"></span>';
                }else{
                    var listen_span = '<span style="color:#dc3545;">Private Listen <img src="icons/x-red.svg"></span>';
                }
                //<img src="icons/arrow-right-circle-fill-grey.svg" style="float:right; height:35px;width:auto;"/>
                var discourseCard = '<a class="nostyle" href="live/' + UDI + '"><div class="card" style="" data-UDI="' + UDI + '"><div class="card-body"><h4 class="card-title">' + title + '</h4><h6 class="card-subtitle mb-2 text-muted">' + tags_to_show + '</h6><p class="card-text">' + description + '</p><p>' + n_participants  + ' Participants | ' + n_listeners + ' Listeners</p>' + join_span + ' | ' + listen_span + '</div></div></a>';
                $('#discourseCards').append(discourseCard);
            }
            
            var public_discourses;
            socket.emit('getActiveDiscourses', null, function(err, res){
                public_discourses = res;
            });
            
            $('#find_public_discourses').click(function(){
                for(i = 0; i < public_discourses.length; i++){
                    var received_title = public_discourses[i]['name'];
                    var received_tags = public_discourses[i]['tags'];
                    var received_description = public_discourses[i]['description'];
                    var received_n_participants = public_discourses[i]['current_participants'];
                    var received_n_listeners = public_discourses[i]['current_listeners'];
                    var received_public_join = public_discourses[i]['public_join'];
                    var received_public_listen = public_discourses[i]['public_listen'];
                    var received_discourse_UDI = public_discourses[i]['UDI']; 
                    $.fn.addDiscourseCard(received_title, received_tags, received_description, received_n_participants, received_n_listeners, received_public_join, received_public_listen, received_discourse_UDI);
                }
                if(public_discourses.length == 0){
                    $('#noPublicDiscourses').css({"display": "block"});
                }
            });
            
            // handle discourse creation
            var join_id;
            var listen_id;
            var join_link;
            var listen_link;
            
            // create unique identifier 
            function uuidv4() {
                return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
                  var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);
                  return v.toString(16);
                });
              }
            
            $('#new_discourse').click(function(){
                join_id = uuidv4();
                listen_id = uuidv4();
                join_link = 'https://www.discourse.fm/jid=' + join_id;
                listen_link = 'https://www.discourse.fm/lid=' + listen_id;
                $('#join-link-label').html(join_link);
                $('#listen-link-label').html(listen_link);
            });
            
            $.fn.copy_to_clipboard = function(text){
                var el = document.createElement('textarea');
                el.textContent = text;
                document.body.appendChild(el);
                
                var selection = document.getSelection();
                var range = document.createRange();
                
                range.selectNode(el);
                selection.removeAllRanges();
                selection.addRange(range);
                
                console.log('copy success', document.execCommand('copy'));
                selection.removeAllRanges();
                
                document.body.removeChild(el);
            }
            
            $.fn.copy_join_link = function(){
                $.fn.copy_to_clipboard(join_link);
                $('#copy-join-link-button').tooltip({title: 'Copied!'});
                $('#copy-join-link-button').tooltip('show');
                setTimeout(function(){
                    $('#copy-join-link-button').tooltip('dispose');
                }, 1000);
            }
            
            $.fn.copy_listen_link = function(){
                $.fn.copy_to_clipboard(listen_link);
                $('#copy-listen-link-button').tooltip({title: 'Copied!'});
                $('#copy-listen-link-button').tooltip('show');
                setTimeout(function(){
                    $('#copy-listen-link-button').tooltip('dispose');
                }, 1000);
            }
            
            $('#private-join').click(function(){
               $('#private-join').addClass('btn-primary');
               $('#private-join').removeClass('btn-outline-primary');
               $('#public-join').removeClass('btn-primary');
               $('#public-join').addClass('btn-outline-primary');
               $('#join-link').show();
            });
            
            $('#public-join').click(function(){
               $('#public-join').addClass('btn-primary');
               $('#public-join').removeClass('btn-outline-primary');
               $('#private-join').removeClass('btn-primary');
               $('#private-join').addClass('btn-outline-primary');
               $('#join-link').hide();
                
               if($('#private-listen').hasClass('btn-primary')){
                   $('#public-listen').click();
                   $('#public-join').tooltip({title: 'Discourse cannot be private to listen to and public to join.'});
                    $('#public-join').tooltip('show');
                    setTimeout(function(){
                        $('#public-join').tooltip('dispose');
                    }, 3000);
               }
            });
            
            $('#private-listen').click(function(){
               $('#private-listen').addClass('btn-primary');
               $('#private-listen').removeClass('btn-outline-primary');
               $('#public-listen').removeClass('btn-primary');
               $('#public-listen').addClass('btn-outline-primary');
               $('#listen-link').show();
                
               if($('#public-join').hasClass('btn-primary')){
                   $('#private-join').click();
                   $('#private-listen').tooltip({title: 'Discourse cannot be private to listen to and public to join.'});
                    $('#discourse-name').tooltip('show');
                    setTimeout(function(){
                        $('#private-listen').tooltip('dispose');
                    }, 3000);
               }
            });
            
            $('#public-listen').click(function(){
               $('#public-listen').addClass('btn-primary');
               $('#public-listen').removeClass('btn-outline-primary');
               $('#private-listen').removeClass('btn-primary');
               $('#private-listen').addClass('btn-outline-primary');
               $('#listen-link').hide();
            });
            
            $('#discourse-name').keyup(function(){
                var chars = $(this).val().length;
                if(chars > 0){
                    $('#discourse-name').removeClass('is-invalid');
                    $('#discourse-name').addClass('is-valid');
                }else{
                    $('#discourse-name').removeClass('is-valid');
                    $('#discourse-name').addClass('is-invalid');
                }
            })
            
            $('#discourse-description').keyup(function(){
               var chars = $(this).val().length;
               $('#discourse-description-character-count').html(180 - chars);
               if(parseInt(chars) <= 180){
                    $('#discourse-description').removeClass('is-invalid');
                    $('#discourse-description').addClass('is-valid');
               }else{
                    $('#discourse-description-character-count').html(0);
                    $('#discourse-description').removeClass('is-valid');
                    $('#discourse-description').addClass('is-invalid');
               }
            });
            
            var tags = [];
            var tag_map = new Map();
            $.fn.removeTag = function(tag_id){
                var tag_input = tag_map[tag_id];
                var index = tags.indexOf(tag_input);
                tags.splice(index, 1);
                $('#tag-' + tag_id).remove();
                if(tags.length == 0){
                    $('#discourse-tags').removeClass('is-valid');
                    $('#discourse-tags').addClass('is-invalid');
                }
            }
            
            $('#discourse-tags').keyup(function(e){
                 var input = $(this).val().trim();
                 var tag_uuid = uuidv4();
                 tag_uuid_with_quotes = "'" + tag_uuid + "'";
                 JSON.stringify(tag_uuid_with_quotes);
                 tag_map[tag_uuid] = input;
                 if(((e.keyCode == 32) || (e.keyCode == 13)) && (input!= null) && (input != '')){
                    var tag = '<span id="tag-' + tag_uuid + '" class="badge badge-secondary mr-1">#' + input + ' <img src="icons/x-circle-white.svg" alt="" title="Bootstrap" style="cursor:pointer;" onclick="$.fn.removeTag(' + tag_uuid_with_quotes + ')"></span>';
                    $('#tag-field').append(tag);
                    $('#discourse-tags').val('');
                    tags.push(input);
                    $('#discourse-tags').removeClass('is-invalid');
                    $('#discourse-tags').addClass('is-valid');
                 }
            });
            
            var discourse_creation_in_progress = false;
            
            $('#create-discourse').click(function(){
                //verify form
                var errors = 0;
                
                var discourse_name = $('#discourse-name').val();
                if(discourse_name.trim() == '' || discourse_name == null){
                    errors += 1;
                    $('#discourse-name').addClass('is-invalid');
                    $('#discourse-name').tooltip({title: 'Discourse name cannot be empty!'});
                    $('#discourse-name').tooltip('show');
                    setTimeout(function(){
                        $('#discourse-name').tooltip('dispose');
                    }, 3000);
                }else if(discourse_name.trim().length > 100){
                    $('#discourse-name').addClass('is-invalid');
                    $('#discourse-name').tooltip({title: 'Discourse name cannot exceed 100 characters.'});
                    $('#discourse-name').tooltip('show');
                    setTimeout(function(){
                        $('#discourse-name').tooltip('dispose');
                    }, 3000);
                }
                
                var discourse_description = $('#discourse-description').val();
                if(discourse_description.length > 180){
                    errors += 1;
                    $('#discourse-description').addClass('is-invalid');
                    $('#discourse-description').tooltip({title: 'Discourse description cannot exceed 180 characters.'});
                    $('#discourse-description').tooltip('show');
                    setTimeout(function(){
                        $('#discourse-description').tooltip('dispose');
                    }, 3000);;
                }
                
                if(tags.length == 0){
                    errors += 1;
                    $('#discourse-tags').addClass('is-invalid');
                    $('#discourse-tags').tooltip({title: 'You must provide at least one tag.'});
                    $('#discourse-tags').tooltip('show');
                    setTimeout(function(){
                        $('#discourse-tags').tooltip('dispose');
                    }, 3000);;
                }
                
                var server_JID = null;
                var server_LID = null;
                if(errors == 0){
                    //create the discourse
                    if($('#public-join').hasClass('btn-primary')){
                        var join_visibility = 'public';
                    }else{
                        var join_visibility = 'private';
                        server_JID = join_id;
                    }
                    
                    if($('#public-listen').hasClass('btn-primary')){
                        var listen_visibility = 'public';
                    }else{
                        var listen_visibility = 'private';
                        server_LID = listen_id;
                    }
                    
                    var discourse_info_array = {
                                           "discourse-name": discourse_name,
                                           "discourse-description": discourse_description, 
                                           "discourse-tags": tags,
                                           "join-visibility": join_visibility,
                                           "listen-visibility": listen_visibility,
                                           "discourse_JID": server_JID,
                                           "discourse_LID": server_LID
                                          }
                    
                    $('#create-discourse').html('Creating Discourse...');
                    
                    if(discourse_creation_in_progress == false){
                        discourse_creation_in_progress = true;
                        socket.emit('create_discourse', discourse_info_array, function(err,data){
                            if(err != 'error'){
                                var data_to_store = {
                                    "JID": server_JID,
                                    "JID_secret": data['JID_secret'],
                                    "LID": server_LID,
                                    "LID_secret": data['LID_secret']
                                }
                                localStorage.setItem(data['UDI'], JSON.stringify(data_to_store));
                                window.location.href = window.location.href + 'live/' + data['UDI'];
                            }
                        });
                    }
                }
            });
            
            $.fn.closeModalOpenModal = function(closeModal, openModal){
                $(closeModal).modal("hide");
                $(openModal).modal("show");
            }
        });
            
      </script>
  </head>
  <body>
    
      
    <nav class="navbar fixed-bottom navbar-light" style="background-color: #6c757d; float:none; display: inline-block; text-align: center;">
        <a href="#" style="color:white" data-toggle="modal" data-target="#aboutModal">About</a>
        <span style="color:white">&#183;</span>
        <a href="#" style="color:white" data-toggle="modal" data-target="#FAQModal">FAQ</a>
        <span style="color:white">&#183;</span>
        <a href="#" style="color:white" data-toggle="modal" data-target="#philosophyModal">Philosophy</a>
        <span style="color:white">&#183;</span>
        <a href="#" style="color:white" data-toggle="modal" data-target="#contactModal">Contact</a>
        <span style="color:white">&#183;</span>
        <a href="#" style="color:white" data-toggle="modal" data-target="#upcomingModal">Upcoming</a>
        <br>
        <span style="color:white">Made with <img src="icons/heart-fill-red.svg" /> in post-apocalyptic Covid-19 land</span>
        <span style="color:white">&#183;</span>
        <span style="color:white">&copy; 2020</span>
    </nav>
      
    <div class="container min-vh-100">
      <div class="row min-vh-100 justify-content-center align-items-center">
        <div class="column col-md-12"> <!-- class="text-center" -->
            <h1 class="display-3">D<img src="icons/radio_wireless_tower.svg" style="height:45px;"/>scourse.FM</h1>
            
            <h3>Live, broadcasted audio chat rooms to <span id="textchanger">learn something new.</span></h3>
            <h5>
                <span id="find_public_discourses" style="color:#007bff; cursor: pointer;">Find a public discourse</span>, or 
                <span id="new_discourse" style="color:#28a745;cursor: pointer;" data-toggle="modal" data-target="#newDiscourseModal"> start a new one</span>.</h5>
            <br>
            <p id="noPublicDiscourses" style="display:none">There are no public discourses to display right now - start a new discourse to get the conversation going!</p>
            <div class="card-columns" id="discourseCards">

            </div>
        </div>
      </div>
    
<!--
      <div class="row justify-content-center align-items-center">
        <h3>Share your ideas with the world in live, broadcasted audio chat rooms.</h3>
        <h5>Listen to a public discourse below, or start a new one.</h5>
      </div>
-->
    </div>
      
    <div class="modal fade" id="newDiscourseModal" tabindex="-1" aria-labelledby="newDiscourseModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="newDiscourseModalLabel">Start a New Discourse</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <form>
              <div class="form-group">
                <label for="discourse-name" class="col-form-label">Discourse Name: </label>
                <input type="text" class="form-control" id="discourse-name" required>
              </div>
              <div class="form-group">
                <label for="discourse-description" class="col-form-label">Description (<span id="discourse-description-character-count">180</span> characters remaining): </label>
                <textarea class="form-control" id="discourse-description"></textarea>
              </div>
              <div class="form-group">
                <label for="discourse-tags" class="col-form-label">Tags (add at least one): </label>
                <input type="text" class="form-control" id="discourse-tags" required>
                <h4 id="tag-field" class="mt-3"></h4>
              </div>
              <div class="btn-group" data-toggle="buttons">
                <label id="public-join" class="btn btn-primary">
                 <input type="radio" name="options" id="public-join" style="display:none;"> Public to Join as a Participant 
                </label>
                <label id="private-join" class="btn btn-outline-primary" >
                 <input type="radio" name="options" id="private-join" style="display:none;"> Private to Join as a Participant 
                </label>
              </div>
              <label id="join-link" style="display: none;">Private Joining Link (save this!): <br><div class="container" style="background-color:rgba(0,0,0,0.025);"><span class="private-links mr-3" id="join-link-label" style="font-size:10.5px;"></span><button type="button" id="copy-join-link-button" class="btn btn-sm" onclick="$.fn.copy_join_link()"><img src="icons/clipboard-plus.svg" alt="" width="15" height="15" title="Bootstrap"></button></div></label>
                <div class="btn-group" data-toggle="buttons">
                <label id="public-listen" class="btn btn-primary">
                 <input type="radio" name="options" id="public-listen" style="display:none;"> Public to Join as a Listener
                </label>
                <label id="private-listen" class="btn btn-outline-primary">
                 <input type="radio" name="options" id="private-listen" style="display:none;"> Private to Join as a Listener 
                </label>
              </div>
              <label id="listen-link" style="display: none;">Private Listening Link (save this!): <br><div class="container" style="background-color:rgba(0,0,0,0.025);"><span class="private-links mr-3" id="listen-link-label" style="font-size:10.5px;"></span><button type="button" id="copy-listen-link-button" class="btn btn-sm" onclick="$.fn.copy_listen_link()"><img src="icons/clipboard-plus.svg" alt="" width="15" height="15" title="Bootstrap"></button></div></label>
            </form>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary" id="create-discourse">Create Discourse</button>
          </div>
        </div>
      </div>
    </div>
      
    <div class="modal fade" id="aboutModal" tabindex="-1" aria-labelledby="aboutModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-body">
                <h3>About Discourse.FM</h3>
                <p>Since ancient times, humans have relied on spoken language to collaborate, organize, and connect with one another. But in recent times, much of our meaningful dialogue has been locked away in written text on the internet - taking the form of email, social media posts, comment sections, and instant messages. And even when we do speak online, it's often controlled or moderated by one individual or organization. In many ways, we've lost our ability to simply speak with one another at all, causing unprecented political divide and a decline in social relationships.
                <br><br>
                Discourse.FM is meant to be the simplest decentralized conversation tool on the internet. We don't expect to fix the entirety of the above problem, but we want to provide a tool that can at least <i>get the conversation going</i> again. 
                <br><br>    
                To get started, simply create or join a discourse and let your voice be heard. Or to understand more of what you can do with Discourse.FM, head over to the <a onclick="$.fn.closeModalOpenModal('#aboutModal', '#FAQModal');" href="#">FAQ</a> section. 
                <br><br>
                Discourse.FM is a blend of Node, Golang, and native Javascript. It was built on top of <a href="https://github.com/pion/">Pion</a> and <a href="https://github.com/MixinNetwork/kraken/">Kraken</a> - special thanks to these open-source projects/communities.
                </p>
            </div>
        </div>
      </div> 
    </div>  
    
    <div class="modal fade" id="FAQModal" tabindex="-1" aria-labelledby="FAQModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-body">
                <h3>What is Discourse.FM?</h3>
                <p>A platform for live, decentralized, broadcasted audio conferencing.</p>
                <h3>What can I do with it?</h3>
                <p>Quite a bit. Like a podcast, you can use it as a stage for dialogue. Like a radio station, you can use it to project a message to a wide audience. However discourses can be private, meaning they can be used for closed hangouts, meetings, and much more.</p>
                <h3>What is the distinction between a public and private discourse?</h3>
                <p>A discourse can be: </p>
                    <ul>
                    <li>public to join and listen to</li>
                    <li>private to join, but public to listen to</li>
                    <li>private to join and listen to</li>
                    </ul>
                <p>With these options it provides complete privacy if desired or a powerful stage to project ideas.</p>
                <h3>What do you mean by "decentralized?"</h3>
                <p>A discourse has no moderator. If there are multiple participants, no one person has the ability to mute or kick any one person for the rest of the group. This removes any power dynamic and creates a balance of power between all participants. It has nothing to do with blockchain technology if that's what you thought we meant (at least not yet).</p>
                <h3>Is it free? Do I have to register?</h3>
                <p>It is completely free. At the moment, no registration is required to participate in or listen to a discourse.</p>
                <h3>Are discourses stored? Can I listen to one after it ends?</h3>
                <p>No. Discourses are live-only, meaning that once a conversation is over, it's over. We believe this takes the pressure off of folks who are eager to share ideas and opinions but afraid of "going-on record." Of course, we cannot stop people from attempting to record the audio through alternative means, so be wary of this.</p>
                <h3>Are discourses monitored? Am I being listened to by the creators of discourse.fm in a private discourse?</h3>
                <p>No and no. We are placing trust in you to use discourse.fm with respect, and to follow the community standards/guidlines found in the <a onclick="$.fn.closeModalOpenModal('#FAQModal', '#philosophyModal');" href="#">Philosophy</a> section.</p> 
                <h3>Was this created in response to Covid-19? Or the current political climate?</h3>
                <p>Sort of. The original idea was actually conceived in the Fall of 2019 as a way to combat boredness on a long commute. But when lockdown began it was clear this would be a great time to build it. It was made even clearer in the heat of the political turmoil later in the year. Now, more than ever, people need to be talking.</p>
            </div>
        </div>
      </div> 
    </div>
      
    <div class="modal fade" id="philosophyModal" tabindex="-1" aria-labelledby="contactLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-body">
                Discourse.fm is meant to be a welcoming environment. People should be able to speak freely and share their opinions, learn new things, and enjoy the company of others. Discourses are not recorded or stored, which removes some of the pressure often associated with written text in online forums. Additionally, the decentralized nature of a discourse - having no moderator - should allow for more free-form discussion without fear of being shut-down. We think these two elements will empower healthy discourse and fun conversations. However, with this power, autonomy, and anonymity, we require community buy-in and respect to make it work.
                <br><br>
                We therefore ask you to do your part and follow some guidelines:
                <ul>
                    <li>You may <b>never create discourses which are meant to threaten, disparage, or target individuals or groups</b>. We ask that if you see such a case, please report it to <a href="mailto:info@discourse.fm">info@discourse.fm</a>.</li>
                    <li>When in a discourse,<b> hate speech is not tolerated in any way, shape or form</b>. We ask that if you are in a discourse where such speech is occurring to leave the discourse and encourage others to do so. If you'd like to keep the conversation going, create a new private discourse without that participant. We think this is a healthier way to discourage this type of behavior without giving centralized power to a moderator.</li>
                    <li>Give others the chance to be heard if there is more than one participant. Everyone who has a seat at the table should feel encouraged and included to be a part of the discussion.</li>
                </ul>
                If you do your part, we'll do ours. We want to continue to improve the experience of the community and introduce features that empower and encourage meaningful, respectful dialogue. If you have any ideas for improving community standards, we're all ears at <a href="mailto:info@discourse.fm">info@discourse.fm</a>. 
                <br><br>
                <b>Disclaimer:</b> Discourse.fm does not take any legal responsibility for what is said while using the service, or any outcomes directly or indirectly relating to the conversations while using the service.
            </div>
        </div>
      </div> 
    </div>  
    
    <div class="modal fade" id="contactModal" tabindex="-1" aria-labelledby="contactLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-body">
                For now, you can get in touch with any questions, comments, suggestions, or inquiries at <a href="mailto:info@discourse.fm">info@discourse.fm.</a>
            </div>
        </div>
      </div> 
    </div>
      
    <div class="modal fade" id="upcomingModal" tabindex="-1" aria-labelledby="upcomingLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-body">
                We've got big plans for discourse.fm. If you'd like to stay updated on our progress, <!--feel free to add your email below or follow us on Twitter.--> check back in here occasionally. We'll also be opening some more channels for communication very soon. 
            </div>
        </div>
      </div> 
    </div>
  </body>
</html>